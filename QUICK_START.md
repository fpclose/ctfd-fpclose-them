# CTFd-fpclose ä¸»é¢˜å¿«é€Ÿå¼€å§‹æŒ‡å—

## ğŸš€ 5åˆ†é’Ÿå¿«é€Ÿéƒ¨ç½²

### 1. å¯ç”¨ä¸»é¢˜

åœ¨ CTFd ç®¡ç†åå°ï¼š
1. è¿›å…¥ **Admin Panel** â†’ **Config** â†’ **Appearance**
2. åœ¨ **Theme** ä¸‹æ‹‰èœå•ä¸­é€‰æ‹© `ctfd-fpclose`
3. ç‚¹å‡» **Update** ä¿å­˜

### 2. é‡å¯ CTFd

```bash
cd /opt/CTFd
docker compose restart ctfd
```

### 3. æ¸…é™¤æµè§ˆå™¨ç¼“å­˜

æŒ‰ `Ctrl + Shift + R`ï¼ˆWindows/Linuxï¼‰æˆ– `Cmd + Shift + R`ï¼ˆMacï¼‰å¼ºåˆ¶åˆ·æ–°

### 4. éªŒè¯æ•ˆæœ

è®¿é—®ä»¥ä¸‹é¡µé¢ç¡®è®¤ä¸»é¢˜ç”Ÿæ•ˆï¼š
- âœ… é¦–é¡µï¼šPipeline åŠ¨æ€èƒŒæ™¯ + æ˜Ÿç©º
- âœ… `/challenges`ï¼šæŒ‘æˆ˜åˆ—è¡¨ï¼Œç™½è‰²å¡ç‰‡æ–‡å­—
- âœ… `/scoreboard`ï¼šè®°åˆ†æ¿ï¼Œå›¾è¡¨æ–‡å­—ä¸ºç™½è‰²
- âœ… `/teams`ï¼šå›¢é˜Ÿåˆ—è¡¨ï¼ŒPipeline èƒŒæ™¯
- âœ… `/users`ï¼šç”¨æˆ·åˆ—è¡¨ï¼ŒPipeline èƒŒæ™¯

---

## ğŸ“ æ ¸å¿ƒæ–‡ä»¶æ¸…å•

### CSS æ ·å¼æ–‡ä»¶
```
static/css/
â”œâ”€â”€ pipeline/
â”‚   â””â”€â”€ pipeline-jumbotron.css      # Pipeline åŠ¨ç”»æ ·å¼
â”œâ”€â”€ starry-background.css            # æ˜Ÿç©ºèƒŒæ™¯ + å…¨å±€æ ·å¼
â””â”€â”€ challenge-card-light.css         # æŒ‘æˆ˜å¡ç‰‡æ–‡å­—æ ·å¼
```

### JavaScript æ–‡ä»¶
```
static/js/pipeline/
â”œâ”€â”€ pipeline-jumbotron.js            # Pipeline åŠ¨ç”»ä¸»æ–‡ä»¶
â”œâ”€â”€ util.js                          # å·¥å…·å‡½æ•°
â””â”€â”€ noise.min.js                     # Simplex Noise åº“
```

### æ¨¡æ¿æ–‡ä»¶
```
templates/
â”œâ”€â”€ base.html                        # åŸºç¡€æ¨¡æ¿ï¼ˆå¿…é¡»ï¼‰
â”œâ”€â”€ challenges.html                  # æŒ‘æˆ˜é¡µé¢
â”œâ”€â”€ scoreboard.html                  # è®°åˆ†æ¿
â”œâ”€â”€ teams/teams.html                 # å›¢é˜Ÿåˆ—è¡¨
â””â”€â”€ users/users.html                 # ç”¨æˆ·åˆ—è¡¨
```

### æ’ä»¶æ¨¡æ¿è¦†ç›–
```
plugins/
â”œâ”€â”€ ctfd_tuandui/templates/teams/teams.html
â”œâ”€â”€ ctfd_user/templates/users/
â”‚   â”œâ”€â”€ users.html
â”‚   â”œâ”€â”€ private.html
â”‚   â””â”€â”€ settings.html
â””â”€â”€ ctfd-paihangb/templates/scoreboard/custom_scoreboard.html
```

---

## ğŸ¨ ä¸»è¦ç‰¹æ€§ä¸€è§ˆ

| ç‰¹æ€§ | æè¿° | çŠ¶æ€ |
|------|------|------|
| Pipeline åŠ¨æ€èƒŒæ™¯ | ç‚«é…·çš„ç®¡é“åŠ¨ç”»æ•ˆæœ | âœ… |
| æ˜Ÿç©ºèƒŒæ™¯ | 50+é¢—æ˜Ÿæ˜Ÿ + æ˜Ÿäº‘æ•ˆæœ | âœ… |
| è™šåŒ–è¿‡æ¸¡ | Pipeline åº•éƒ¨å¹³æ»‘è¿‡æ¸¡ | âœ… |
| æ·±è‰²æ–‡å­—é€‚é… | æµ…è‰²æ–‡å­—é€‚é…æ·±è‰²èƒŒæ™¯ | âœ… |
| å¼¹çª—ä¼˜åŒ– | ä¿®å¤äº¤äº’å’Œæ˜¾ç¤ºé—®é¢˜ | âœ… |
| å“åº”å¼è®¾è®¡ | ç§»åŠ¨ç«¯å’Œæ¡Œé¢ç«¯é€‚é… | âœ… |
| æ’ä»¶å…¼å®¹ | æ”¯æŒä¸»è¦æ’ä»¶æ¨¡æ¿ | âœ… |

---

## ğŸ”§ å¸¸ç”¨è‡ªå®šä¹‰é…ç½®

### ä¿®æ”¹ Pipeline é¢œè‰²

ç¼–è¾‘ `static/js/pipeline/pipeline-jumbotron.js`ï¼š

```javascript
const baseHue = 180;  // æ”¹ä¸º 0-360 ä¹‹é—´çš„å€¼
// 0=çº¢, 60=é»„, 120=ç»¿, 180=é’, 240=è“, 300=ç´«
```

### å¢åŠ æ˜Ÿæ˜Ÿæ•°é‡

ç¼–è¾‘ `static/css/starry-background.css`ï¼Œåœ¨ `body::after` ä¸­æ·»åŠ æ›´å¤š `radial-gradient`ï¼š

```css
radial-gradient(1px 1px at 50% 50%, white, transparent),
```

### è°ƒæ•´è™šåŒ–åŒºåŸŸ

ç¼–è¾‘ `static/css/pipeline/pipeline-jumbotron.css`ï¼š

```css
.pipeline-jumbotron::after {
  height: 80px;  /* æ”¹ä¸ºä½ æƒ³è¦çš„é«˜åº¦ */
}
```

### ä¿®æ”¹å…¨å±€æ–‡å­—é¢œè‰²

ç¼–è¾‘ `static/css/starry-background.css`ï¼š

```css
body {
  color: #e0e0e0 !important;  /* ä¿®æ”¹ä¸ºä½ æƒ³è¦çš„é¢œè‰² */
}
```

---

## ğŸ› å¸¸è§é—®é¢˜

### Q: Pipeline èƒŒæ™¯ä¸æ˜¾ç¤ºï¼Ÿ
**A**: æ£€æŸ¥ä»¥ä¸‹å‡ ç‚¹ï¼š
1. ç¡®è®¤ `jumbotron` div æœ‰ `pipeline-jumbotron` ç±»
2. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰ JavaScript é”™è¯¯
3. å¼ºåˆ¶åˆ·æ–°æµè§ˆå™¨ï¼ˆCtrl+Shift+Rï¼‰

### Q: æ˜Ÿç©ºçœ‹ä¸è§æˆ–å¾ˆå°‘ï¼Ÿ
**A**: 
1. æ£€æŸ¥ `starry-background.css` æ˜¯å¦åŠ è½½
2. å°è¯•å¢å¤§ `opacity` å€¼ï¼ˆç›®å‰ä¸º 1ï¼‰
3. å‡å° `background-size` çš„åƒç´ å€¼ä»¥å¢åŠ å¯†åº¦

### Q: å¼¹çª—å†…å®¹çœ‹ä¸æ¸…ï¼Ÿ
**A**: 
å·²åœ¨ `starry-background.css` ä¸­ä¿®å¤ï¼Œç¡®ä¿åŒ…å«ä»¥ä¸‹æ ·å¼ï¼š
```css
.modal * {
  color: #212529 !important;
}
```

### Q: æŸä¸ªé¡µé¢æ²¡æœ‰ Pipeline èƒŒæ™¯ï¼Ÿ
**A**: 
1. æ£€æŸ¥è¯¥é¡µé¢æ˜¯å¦è¢«æ’ä»¶è¦†ç›–
2. åœ¨æ’ä»¶æ¨¡æ¿ä¸­æ·»åŠ  `pipeline-jumbotron` ç±»
3. å‚è€ƒ `THEME_DOCUMENTATION.md` ä¸­çš„"æ’ä»¶æ¨¡æ¿è¦†ç›–"ç« èŠ‚

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

**å®Œæ•´æ–‡æ¡£**ï¼šæŸ¥çœ‹ `THEME_DOCUMENTATION.md`
**ä¸»é¢˜ç›®å½•**ï¼š`/opt/CTFd/CTFd/themes/ctfd-fpclose/`
**CTFd å®˜æ–¹æ–‡æ¡£**ï¼šhttps://docs.ctfd.io/

---

## âœ… æ£€æŸ¥æ¸…å•

éƒ¨ç½²å®Œæˆåï¼Œç¡®è®¤ä»¥ä¸‹åŠŸèƒ½æ­£å¸¸ï¼š

- [ ] é¦–é¡µæ˜¾ç¤º Pipeline èƒŒæ™¯
- [ ] æ˜Ÿç©ºèƒŒæ™¯å¯è§
- [ ] æŒ‘æˆ˜å¡ç‰‡æ–‡å­—æ¸…æ™°ï¼ˆç™½è‰²/è“è‰²ï¼‰
- [ ] ç‚¹å‡»æŒ‘æˆ˜åå¼¹çª—æ­£å¸¸æ˜¾ç¤º
- [ ] å¼¹çª—å†…å®¹æ¸…æ™°å¯è¯»
- [ ] è®°åˆ†æ¿å›¾è¡¨æ–‡å­—ä¸ºç™½è‰²
- [ ] å›¢é˜Ÿ/ç”¨æˆ·åˆ—è¡¨æœ‰ Pipeline èƒŒæ™¯
- [ ] Pipeline åº•éƒ¨æœ‰è™šåŒ–è¿‡æ¸¡
- [ ] å¯¼èˆªæ ä¸ Pipeline æ— ç©ºç™½
- [ ] ç§»åŠ¨ç«¯æ˜¾ç¤ºæ­£å¸¸

å…¨éƒ¨å®Œæˆ âœ… æ­å–œï¼ä¸»é¢˜éƒ¨ç½²æˆåŠŸï¼

---

**ç‰ˆæœ¬**ï¼šv1.0.0  
**æ›´æ–°æ—¥æœŸ**ï¼š2025-11-22
